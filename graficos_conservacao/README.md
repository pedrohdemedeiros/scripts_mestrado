# Gráfico de Conservação de Sequências

Este script Python gera um gráfico de média móvel para escores de conservação de sequências de proteínas ou nucleotídeos. É parte de uma coleção de scripts desenvolvida durante o meu mestrado na Universidade Federal do ABC (UFABC).

## Requisitos

- Python 3.x
- NumPy
- Matplotlib

### Instalação de Dependências

Para instalar as bibliotecas necessárias, você pode executar o seguinte comando:

\```bash
pip install -r requirements.txt
\```

O arquivo `requirements.txt` contém:

\```
argparse==1.1
numpy==1.23.1
matplotlib==3.7.2
\```

## Como Usar

### 1. Prepare o arquivo de entrada

O arquivo de entrada deve ser um arquivo de texto que contém os escores de conservação. Cada linha deve representar um resíduo e seu escore de conservação.

### 2. Execute o script

Use o terminal para navegar até o diretório onde o script está localizado e execute o seguinte comando:

\```bash
python nome_do_script.py <file_path> <start> <end> <region_name> [--window_size <window_size>]
\```

#### Parâmetros

- `file_path`: Caminho para o arquivo que contém os escores de conservação.
- `start`: Posição inicial da região a ser destacada no gráfico.
- `end`: Posição final da região a ser destacada no gráfico.
- `region_name`: Nome da região a ser destacada.
- `window_size` (opcional): Tamanho da janela para calcular a média móvel. O valor padrão é 3.

O arquivo de scores de conservação é um arquivo .defattr gerado pelo programa [ChimeraX~](https://www.cgl.ucsf.edu/chimerax/) a partir de uma alinhamento de proteínas junto a um PDB representativo.
Você pode ver como gerar esse arquivo [aqui](https://www.cgl.ucsf.edu/chimerax/docs/user/commands/save.html) e como fazer a avaliação de conservação [aqui](https://www.rbvi.ucsf.edu/chimerax/data/conservation-coloring/conservation-coloring.html).


### 3. Visualize o gráfico

O script irá gerar e exibir o gráfico de conservação.

### Exemplo de Uso

\```bash
python nome_do_script.py conservation_scores.txt 50 150 'Região Alfa' --window_size 5
\```

## Licença

Este script é liberado sob a licença Creative Commons Zero (CC0), o que efetivamente coloca este trabalho no domínio público. Você está livre para usar, modificar e distribuir este script para qualquer finalidade.


# Sequence Conservation Graph

This Python script generates a moving average graph for conservation scores of protein or nucleotide sequences. It's part of a collection of scripts developed during my master's degree at the Federal University of ABC (UFABC).

## Requirements

- Python 3.x
- NumPy
- Matplotlib

### Dependency Installation

To install the necessary libraries, you can run the following command:

\```bash
pip install -r requirements.txt
\```

The `requirements.txt` file contains:

\```
argparse==1.1
numpy==1.23.1
matplotlib==3.7.2
\```

## How to Use

### 1. Prepare the input file

The input file should be a text file containing the conservation scores. Each line should represent a residue and its conservation score.

### 2. Run the script

Use the terminal to navigate to the directory where the script is located and run the following command:

\```bash
python script_name.py <file_path> <start> <end> <region_name> [--window_size <window_size>]
\```

#### Parameters

- `file_path`: Path to the file containing the conservation scores.
- `start`: Initial position of the region to be highlighted on the graph.
- `end`: Final position of the region to be highlighted on the graph.
- `region_name`: Name of the region to be highlighted.
- `window_size` (optional): Window size to calculate the moving average. The default value is 3.

The conservation scores file is a .defattr file generated by the [ChimeraX~](https://www.cgl.ucsf.edu/chimerax/) program from a protein alignment along with a representative PDB. You can see how to generate this file [here](https://www.cgl.ucsf.edu/chimerax/docs/user/commands/save.html) and how to do the conservation assessment [here](https://www.rbvi.ucsf.edu/chimerax/data/conservation-coloring/conservation-coloring.html).

### 3. View the graph

The script will generate and display the conservation graph.

### Usage Example

\```bash
python script_name.py conservation_scores.txt 50 150 'Alpha Region' --window_size 5
\```

## License

This script is released under the Creative Commons Zero (CC0) license, which effectively places this work in the public domain. You are free to use, modify, and distribute this script for any purpose.
